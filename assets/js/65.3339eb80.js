(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{460:function(e,v,s){"use strict";s.r(v);var t=s(51),a=Object(t.a)({},(function(){var e=this,v=e.$createElement,s=e._self._c||v;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"如何保持vpn永久在线和ssh连接活跃"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何保持vpn永久在线和ssh连接活跃"}},[e._v("#")]),e._v(" 如何保持VPN永久在线和SSH连接活跃")]),e._v(" "),s("h2",{attrs:{id:"为什么会断线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么会断线"}},[e._v("#")]),e._v(" 为什么会断线")]),e._v(" "),s("p",[e._v("我们通过"),s("code",[e._v("EasyConnect")]),e._v("建立VPN链接，当长时间没有操作的时候，由于保护机制，VPN会自动下线。这与网页登录邮箱长时间不操作就提示重新登录的原理是一样的。")]),e._v(" "),s("h2",{attrs:{id:"如何保持vpn永久在线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何保持vpn永久在线"}},[e._v("#")]),e._v(" 如何保持VPN永久在线")]),e._v(" "),s("p",[e._v("鼠标右键单击任务栏的"),s("code",[e._v("EasyConnect")]),e._v("的图标，在弹出的页面中选择"),s("code",[e._v("系统设置")]),e._v("，然后勾选"),s("code",[e._v("永久在线")]),e._v("。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/mrzhenggang/CDN@master/img/keep-alive/1.png",alt:"EasyConnect永久在线"}})]),e._v(" "),s("p",[e._v("这样就不会因为长时间不操作，由于保护机制而断开连接了。")]),e._v(" "),s("h2",{attrs:{id:"如何保持ssh连接活跃"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何保持ssh连接活跃"}},[e._v("#")]),e._v(" 如何保持SSH连接活跃")]),e._v(" "),s("p",[e._v("使用ssh连接远程服务器的时候，如果长时间没有操作，远程连接就有可能中断。正在执行的程序和vim等缓冲区数据都会丢失。")]),e._v(" "),s("h3",{attrs:{id:"windows系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows系统"}},[e._v("#")]),e._v(" windows系统")]),e._v(" "),s("ul",[s("li",[e._v("使用"),s("code",[e._v("MobaXterm")]),e._v("连接远程服务器，在"),s("code",[e._v("settings")]),e._v(" -> "),s("code",[e._v("Configuration")]),e._v(" 的 "),s("code",[e._v("SSH")]),e._v(" 选项卡中，勾选"),s("code",[e._v("SSH keepalive")]),e._v("。")]),e._v(" "),s("li",[e._v("使用"),s("code",[e._v("SecureCRT")]),e._v("连接远程服务器，在"),s("code",[e._v("会话")]),e._v("选项 -> "),s("code",[e._v("终端设置")]),e._v("中勾选"),s("code",[e._v("发送协议 NO-OP")]),e._v("。")]),e._v(" "),s("li",[e._v("使用"),s("code",[e._v("putty")]),e._v("连接远程服务器，找到"),s("code",[e._v("Connection")]),e._v(" -> "),s("code",[e._v("Seconds between keepalives ( 0 to turn off )")]),e._v("， 默认为"),s("code",[e._v("0")]),e._v("，改为"),s("code",[e._v("60")]),e._v("。")]),e._v(" "),s("li",[e._v("使用"),s("code",[e._v("xshell")]),e._v("连接远程服务器，找到当前连接，右击连接选择属性，在连接页面设置：勾选重新连接，设置间隔。")])]),e._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/mrzhenggang/CDN@master/img/keep-alive/2.png",alt:"mobaxterm截图, 其他终端类似"}})]),e._v(" "),s("h3",{attrs:{id:"linux系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux系统"}},[e._v("#")]),e._v(" Linux系统")]),e._v(" "),s("p",[e._v("在linux系统中使用ssh连接远程服务器时，可以使用 "),s("code",[e._v("-o")]),e._v(" 的一个参数 "),s("code",[e._v("ServerAliveInterval")]),e._v(" 来设置防止超时的时间。比如：")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ssh")]),e._v(" -o "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("serveraliveinterval")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("60")]),e._v(" username@host\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"服务器配置修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务器配置修改"}},[e._v("#")]),e._v(" 服务器配置修改")]),e._v(" "),s("p",[e._v("修改服务器端的 "),s("code",[e._v("ssh")]),e._v(" 配置文件 "),s("code",[e._v("/etc/ssh/sshd_config")]),e._v(" ，添加或者修改 "),s("code",[e._v("ClientAliveInterval")]),e._v(" 为 "),s("code",[e._v("ClientAliveInterval 60")]),e._v(" 。")]),e._v(" "),s("p",[e._v("这个参数的是意思是每1分钟，服务器向客户端发一个消息，用于保持连接。保存后记得重启"),s("code",[e._v("ssh")]),e._v("服务。")]),e._v(" "),s("blockquote",[s("p",[e._v("用户自己做不了，需要有管理员权限")])]),e._v(" "),s("p",[e._v("修改过后，上面几个办法都可以让"),s("code",[e._v("ssh")]),e._v("保持连接，一直处于"),s("code",[e._v("alive")]),e._v("状态，不会因为没有操作而被服务器强制断线了。")])])}),[],!1,null,null,null);v.default=a.exports}}]);