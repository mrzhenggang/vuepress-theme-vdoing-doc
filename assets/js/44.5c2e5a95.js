(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{437:function(s,a,t){"use strict";t.r(a);var n=t(51),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"wrf简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wrf简介"}},[s._v("#")]),s._v(" WRF简介")]),s._v(" "),t("p",[s._v("官方主页：https://www.mmm.ucar.edu/weather-research-and-forecasting-model")]),s._v(" "),t("p",[s._v("WRF为美国国家大气研究中心(NCAR)联合其他机构共同开发的中尺度气象模式，可用于天气预报业务和大气科学领域相关科研。")]),s._v(" "),t("p",[s._v("WRF分为ARW(Advanced Research WRF) 和 NMM(Nonhydrostatic Mesoscale Model)两种。绝大多数气象领域的研究者使用的主要都是ARW版本。")]),s._v(" "),t("ul",[t("li",[s._v("前处理：WPS （仅real case需要）")]),s._v(" "),t("li",[s._v("观测资料同化：WRFDA (Data Assimilation)")]),s._v(" "),t("li",[s._v("Nudging: OBSGRID")]),s._v(" "),t("li",[s._v("后处理：ARWpost等格式转换、插值及绘图软件")]),s._v(" "),t("li",[s._v("nco : 针对nc格式文件的处理套件，可方便地进行裁剪、做差、统计分析")])]),s._v(" "),t("h2",{attrs:{id:"调用系统已安装版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用系统已安装版本"}},[s._v("#")]),s._v(" 调用系统已安装版本")]),s._v(" "),t("p",[s._v("可以通过 "),t("code",[s._v("module avail wrf")]),s._v(" 来搜索系统已经安装的WRF版本，例如"),t("code",[s._v("3.8")]),s._v(","),t("code",[s._v("3.9.1")]),s._v(","),t("code",[s._v("4.0")]),s._v(","),t("code",[s._v("4.1")]),s._v("等，可以直接加载使用。")]),s._v(" "),t("p",[s._v("系统已经配置了常用的地形数据库，目录为："),t("code",[s._v("/THL6/software/WRFDATA/geog")])]),s._v(" "),t("p",[s._v("其他文件系统的用户请自行寻找。")]),s._v(" "),t("h2",{attrs:{id:"使用方法举例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用方法举例"}},[s._v("#")]),s._v(" 使用方法举例")]),s._v(" "),t("p",[t("strong",[s._v("1.")]),s._v(" 创建测试文件夹")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/workdir/wrf/81km-test\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/workdir/wrf/81km-test\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("2.")]),s._v(" 上传算例")]),s._v(" "),t("p",[s._v("利用ARSC(北极地区超级计算中心)及阿拉斯加大学开发的一套benchmark套件 http://weather.arsc.edu/BenchmarkSuite 进行WRF相关的测试工作。该套件分为81km, 27km, 9km, 3km等不同分辨率，可适用于不同规模的计算测速。")]),s._v(" "),t("p",[s._v("将81Km.tar.gz的算例文件（28MB）上传到测试文件夹。")]),s._v(" "),t("p",[t("strong",[s._v("3.")]),s._v(" 解压缩，设置相关环境")]),s._v(" "),t("ul",[t("li",[s._v("解压缩、拷贝、修改名字")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r  /THL6/software/wrf/3.8-emreal-dmpar-icc16-mvapich2/run/ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf 81km.tar.gz \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" 81km/* run/\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" run/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" wrfrst_d01_2009-12-20_00-00-00 wrfrst_d01_2009-12-20_00:00:00 \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ul",[t("li",[s._v("加载系统环境")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# module")]),s._v("\nmodule "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" Intel_compiler/16.0.3\nmodule "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" MPI/mvapich2-2.2/intel2016u3\nmodule "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" netcdf/4.4-icc16-mvapich2 \nmodule "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" wrf/3.8-emreal-dmpar-icc16-mvapich2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("strong",[s._v("4.")]),s._v(" 测试算例")]),s._v(" "),t("p",[s._v("编写提交脚本文件"),t("code",[s._v("sub.sh")]),s._v("，写入：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\nyhrun -N "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" -pTH_HPC1 wrf.exe\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("说明：")]),s._v(" "),t("ol",[t("li",[s._v("-N 节点数")]),s._v(" "),t("li",[s._v("-n 总核数")]),s._v(" "),t("li",[s._v("-p 计算分区名")]),s._v(" "),t("li",[s._v("wrf.exe 可执行程序名称")])]),s._v(" "),t("p",[s._v("备注：")]),s._v(" "),t("ol",[t("li",[s._v("wrf的前处理过程可以写入脚本，或者在登陆节点执行。")])]),s._v(" "),t("p",[t("strong",[s._v("5.")]),s._v(" 查看结果")]),s._v(" "),t("p",[s._v("查看结果文件即可，运行会生成wrfout输出文件，以及rsl.out.00xx和rsl.error.00xx等log文件，文件末尾数字对应核数，一个核生成一个文件。可查看rsl文件末尾是否有“SUCCESS COMPLETE WRF”提示。")]),s._v(" "),t("h2",{attrs:{id:"技术支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#技术支持"}},[s._v("#")]),s._v(" 技术支持")]),s._v(" "),t("p",[s._v("VIP技术支持： zhenggang@nscc-tj.cn")])])}),[],!1,null,null,null);a.default=e.exports}}]);