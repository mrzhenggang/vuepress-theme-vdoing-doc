(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{447:function(s,a,t){"use strict";t.r(a);var n=t(51),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("为了方便用户安装python扩展包，我们配置了网络代理，并添加国内源，实现了在超算集群上可以使用"),t("code",[s._v("pip")]),s._v("命令联网下载安装扩展包。")]),s._v(" "),t("h2",{attrs:{id:"临时使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#临时使用"}},[s._v("#")]),s._v(" 临时使用")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1 加载代理模块")]),s._v("\nmodule "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" proxy\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2 加载python环境")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   可以用 module av python 查询可用 python 环境")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   我们以 python/3.7_anaconda 为例")]),s._v("\nmodule "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" python/3.7_anaconda\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3 安装到本地（例如安装numpy）")]),s._v("\npip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("  -i https://pypi.tuna.tsinghua.edu.cn/simple  numpy -U\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("说明：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("pip")]),s._v(" 是执行的命令")]),s._v(" "),t("li",[t("code",[s._v("install")]),s._v(" 表示安装")]),s._v(" "),t("li",[t("code",[s._v("numpy")]),s._v(" 是安装包的名字（安装其他包时，请修改为包的名字）")]),s._v(" "),t("li",[t("code",[s._v("-i https://pypi.tuna.tsinghua.edu.cn/simple")]),s._v(" 指定本地源目录")]),s._v(" "),t("li",[t("code",[s._v("--user | -U")]),s._v(" 指定安装位置为 "),t("code",[s._v("~/.local")])]),s._v(" "),t("li",[s._v("可以用"),t("code",[s._v("--target=/path")]),s._v("来指定其他安装目录")])]),s._v(" "),t("h2",{attrs:{id:"永久使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#永久使用"}},[s._v("#")]),s._v(" 永久使用")]),s._v(" "),t("h3",{attrs:{id:"配置本地源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置本地源"}},[s._v("#")]),s._v(" 配置本地源")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("使用默认国外源的请跳过")])]),s._v(" "),t("p",[s._v("执行如下几行命令，自动配置。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果文件夹不存在，则创建文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -d ~/.pip "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/.pip\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果配置文件存在则备份")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -f ~/.pip/pip.conf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" ~/.pip/pip.conf ~/.pip/pip.conf.bak\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置源")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[global]\n index-url = https://pypi.tuna.tsinghua.edu.cn/simple\n'")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ~/.pip/pip.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"加载代理模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载代理模块"}},[s._v("#")]),s._v(" 加载代理模块")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("module "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" proxy\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"加载python环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载python环境"}},[s._v("#")]),s._v(" 加载python环境")]),s._v(" "),t("p",[t("strong",[s._v("查找可用python环境")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在系统中查找可用的python环境")]),s._v("\nmodule av python\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("可以获得类似如下内容：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("----  /usr/local/modulefiles/vol-th/Tools ----\npython/2.5.5                 python/2.7.2                 python/3.6_anaconda\npython/2.7.11                python/2.7_anaconda"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" python/3.7_anaconda\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("选择加载一个pyhton环境")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择一个版本加载，如python/3.7_anaconda")]),s._v("\nmodule "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" python/3.7_anaconda\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("用户可以自行下载安装一个如Anaconda/Miniconda进行制定版本的python安装，可以参考："),t("a",{attrs:{href:"https://mrzhenggang.com/anaconda/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Anaconda 安装教程"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"安装扩展包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装扩展包"}},[s._v("#")]),s._v(" 安装扩展包")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pip install 包名")]),s._v("\npip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" numpy -U\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("参数 "),t("code",[s._v("-U")]),s._v(" 表示安装到用户本地")])])])}),[],!1,null,null,null);a.default=e.exports}}]);