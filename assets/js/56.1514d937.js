(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{451:function(s,t,a){"use strict";a.r(t);var n=a(51),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("R语言包在线安装比较简单，离线安装相对麻烦，尤其是解决依赖问题，本文介绍在线和离线安装R语言包的方法。")]),s._v(" "),a("h2",{attrs:{id:"安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装包"}},[s._v("#")]),s._v(" 安装包")]),s._v(" "),a("h3",{attrs:{id:"linux系统r语言包在线安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux系统r语言包在线安装"}},[s._v("#")]),s._v(" Linux系统R语言包在线安装")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("Shell")]),s._v("命令行终端输入"),a("code",[s._v("R")]),s._v(", 打开R的控制台, 输入:")]),s._v(" "),a("div",{staticClass:"language-R line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-r"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 gridExtra")]),s._v("\ninstall.packages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gridExtra"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dependencies "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("TRUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("这样就可以在可以联网的环境下直接安装了。")]),s._v(" "),a("h3",{attrs:{id:"linux系统单个r语言包离线安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux系统单个r语言包离线安装"}},[s._v("#")]),s._v(" Linux系统单个R语言包离线安装")]),s._v(" "),a("p",[s._v("前往 https://cran.r-project.org/web/packages/available_packages_by_name.html 下载需要的语言包，例如"),a("code",[s._v("gridExtra")]),s._v("。")]),s._v(" "),a("p",[s._v("然后把下载 "),a("code",[s._v("gridExtra.tar.gz")]),s._v(" 压缩包上传到待安装R语言包的系统上的某个目录，进入该目录，在"),a("code",[s._v("Shell")]),s._v("命令行终端（注意不是R的控制台）输入:")]),s._v(" "),a("div",{staticClass:"language-Bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("R CMD INSTALL gridExtra.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"windows系统批量下载安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows系统批量下载安装包"}},[s._v("#")]),s._v(" Windows系统批量下载安装包")]),s._v(" "),a("p",[a("strong",[s._v("在windows系统下安装R环境")])]),s._v(" "),a("p",[s._v("前往 https://cran.r-project.org/bin/windows/base/ 下载 "),a("code",[s._v("R")]),s._v(" 的安装包。")]),s._v(" "),a("p",[s._v("例如：https://cran.r-project.org/bin/windows/base/R-3.6.1-win.exe")]),s._v(" "),a("p",[s._v("我们获得了 "),a("code",[s._v("R-3.6.1-win.exe")]),s._v(" 安装包，直接双击运行即可安装成功。")]),s._v(" "),a("p",[s._v("运行成功后，我们在例如 "),a("code",[s._v("D")]),s._v(" 盘创建一个文件夹，用于存放下载好的安装包，例如 "),a("code",[s._v("D:/Rpackages")]),s._v("。")]),s._v(" "),a("p",[s._v("然后我们打开R的环境，如下图：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/mrzhenggang/CDN@master/img/r/r-1.png",alt:"R-package-install"}})]),s._v(" "),a("p",[s._v("在这个R的控制台输入一些代码，来让R帮助我们自动下载依赖包，例如：")]),s._v(" "),a("div",{staticClass:"language-R line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-r"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#download  ")]),s._v("\ngetPackages "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("packs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n  packages "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<-")]),s._v(" unlist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("  \n    tools"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),s._v("package_dependencies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("packs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" available.packages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("which"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Depends"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Imports"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" recursive"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("TRUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n  packages "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<-")]),s._v(" union"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("packs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" packages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n  packages\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  \nmyPackages "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<-")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"raster"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gtools"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rhdf5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dplyr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DBI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"doBy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foreign"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ggplot2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"maptools"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ncdf4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sp"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rgdal"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ROzone2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"baidumap"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"magrittr"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tsModel"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \npackages "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<-")]),s._v(" getPackages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myPackages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndownload.packages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("packages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" destdir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:/Rpackages/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"source"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("需要注意的是：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("myPackages")]),s._v("后面添加的是需要安装的包，请依据实际需求修改。")]),s._v(" "),a("li",[a("code",[s._v('destdir="D:/Rpackages/"')]),s._v(" 为下载目录，可以依据实际需求修改。")]),s._v(" "),a("li",[s._v("执行过程中会弹出选项下载源的提示，可以选择China中的任意一个，例如"),a("code",[s._v("LanZhou")]),s._v("，如下图：")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/mrzhenggang/CDN@master/img/r/r-2.png",alt:"R-package-install"}})]),s._v(" "),a("h3",{attrs:{id:"在linux系统下离线安装r环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在linux系统下离线安装r环境"}},[s._v("#")]),s._v(" 在Linux系统下离线安装R环境")]),s._v(" "),a("p",[s._v("把包和依赖传入离线环境后，"),a("strong",[s._v("在这些安装包所在的目录")]),s._v("，运行离线环境中的"),a("code",[s._v("R")]),s._v("环境，打开R的控制台，如下图：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/mrzhenggang/CDN@master/img/r/r-3.png",alt:"R-package-install"}})]),s._v(" "),a("p",[s._v("在这个R的控制台输入一些代码，来让R帮助我们自动安装依赖包，例如：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("library"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \npath "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("- "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./"')]),s._v("  \nwrite_PACKAGES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path,type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"source"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \nmyPackages "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("- c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"raster"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gtools"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rhdf5"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dplyr"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DBI"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"doBy"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foreign"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ggplot2"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"maptools"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ncdf4"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sp"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rgdal"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ROzone2"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"baidumap"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"magrittr"')]),s._v(" , "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tsModel"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \ninstall.packages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myPackages, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("contriburl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("paste"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file:"')]),s._v(",path,sep"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"source"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("需要注意的是：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v('path <- "./"')]),s._v(" 表示当前目录。如果提示找不到安装包，请使用"),a("code",[s._v("cd")]),s._v(" 命令切换到上传安装包的目录。")])]),s._v(" "),a("h2",{attrs:{id:"坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#坑"}},[s._v("#")]),s._v(" 坑")]),s._v(" "),a("h3",{attrs:{id:"stringi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stringi"}},[s._v("#")]),s._v(" stringi")]),s._v(" "),a("p",[s._v("报错：\nchecking whether we can fetch icudt... downloading the ICU data library (icudt)")]),s._v(" "),a("p",[s._v("解决方法：\n手动下载一个master版本的，包含这个坑爹的包....\nhttps://raw.githubusercontent.com/gagolews/stringi/master/INSTALL")]),s._v(" "),a("h3",{attrs:{id:"qvalue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#qvalue"}},[s._v("#")]),s._v(" qvalue")]),s._v(" "),a("p",[s._v("Package ‘qvalue’ was removed from the CRAN repository.\nFormerly available versions can be obtained from the archive.\nThis package is now available from Bioconductor only, see "),a("a",{attrs:{href:"http://www.bioconductor.org/packages/release/bioc/html/qvalue.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.bioconductor.org/packages/release/bioc/html/qvalue.html"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"备注"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#备注"}},[s._v("#")]),s._v(" 备注")]),s._v(" "),a("p",[s._v("官网地址："),a("a",{attrs:{href:"https://www.r-project.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("传送门"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("参考文章："),a("a",{attrs:{href:"https://blog.csdn.net/liu365560704/article/details/70321153",target:"_blank",rel:"noopener noreferrer"}},[s._v("R语言离线下载包和依赖"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);