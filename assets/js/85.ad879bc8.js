(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{480:function(s,t,a){"use strict";a.r(t);var n=a(51),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-什么是slurm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是slurm"}},[s._v("#")]),s._v(" 1. 什么是slurm ?")]),s._v(" "),a("p",[s._v("Slurm 是一个开源、容错、高可伸缩的集群管理和大型小型 Linux 集群作业调度系统。slurm不需要对操作系统内核进行修改，而是相对独立的。")]),s._v(" "),a("p",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/mrzhenggang/CDN@master/img/slurm/slurm-logo.png",width:"500"}})]),s._v(" "),a("p",[s._v("用户理解：")]),s._v(" "),a("blockquote",[a("p",[s._v("超算集群不能在登陆节点计算任务，需要提交到计算节点，怎么提交呢？用作业管理系统提交。"),a("code",[s._v("slurm")]),s._v("就是其中一种。")])]),s._v(" "),a("p",[s._v("下面介绍如何使用slurm。")]),s._v(" "),a("h2",{attrs:{id:"_2-slurm使用初级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-slurm使用初级"}},[s._v("#")]),s._v(" 2. slurm使用初级")]),s._v(" "),a("h3",{attrs:{id:"查看可用节点-yhi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看可用节点-yhi"}},[s._v("#")]),s._v(" 查看可用节点 yhi")]),s._v(" "),a("p",[s._v("查看可用计算节点信息的命令是：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhi\nPARTITION AVAIL  TIMELIMIT   NODES  STATE  NODELIST\ndebug        up      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(":00     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("  drain  cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-100"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndebug        up      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(":00     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("  alloc  cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("-200"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndebug        up      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(":00     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("  idle   cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("-300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("blockquote",[a("p",[s._v("上面的代码中，行首为"),a("code",[s._v("$")]),s._v("符的行是用户输入的命令，其他行为显示的结果，同下。")])]),s._v(" "),a("p",[s._v("说明：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("关键词")]),s._v(" "),a("th",[s._v("含义")]),s._v(" "),a("th",[s._v("备注")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("PARTITION")]),s._v(" "),a("td",[s._v("分区名")]),s._v(" "),a("td",[s._v("-p 分区名来指定分区")])]),s._v(" "),a("tr",[a("td",[s._v("AVAIL")]),s._v(" "),a("td",[s._v("可用状态")]),s._v(" "),a("td",[s._v("up 可用"),a("br"),s._v("down 不可用")])]),s._v(" "),a("tr",[a("td",[s._v("TIMELIMIT")]),s._v(" "),a("td",[s._v("该分区的作业最大运行时长限制")]),s._v(" "),a("td",[s._v("30:00 表示30分钟"),a("br"),s._v("2-00:00:00表示2天"),a("br"),s._v("infinite表示不限时间")])]),s._v(" "),a("tr",[a("td",[s._v("NODES")]),s._v(" "),a("td",[s._v("节点的数量")]),s._v(" "),a("td",[s._v("-N 数字 来指定节点数量")])]),s._v(" "),a("tr",[a("td",[s._v("STATE")]),s._v(" "),a("td",[s._v("节点的状态")]),s._v(" "),a("td",[s._v("drain: 排空状态，表示该类结点不再分配到其他"),a("br"),s._v("idle: 空闲状态"),a("br"),s._v("alloc: 被分配状态")])])])]),s._v(" "),a("p",[s._v("通过查看系统可用资源情况，我们就知道了要将计算任务提交到那里了，比如例子中的debug计算分区。")]),s._v(" "),a("h3",{attrs:{id:"提交作业"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提交作业"}},[s._v("#")]),s._v(" 提交作业")]),s._v(" "),a("p",[s._v("接下来应该就是使用slurm作业管理系统进行作业提交了，常用的提交方式有2种，分别介绍如下：")]),s._v(" "),a("h4",{attrs:{id:"yhrun-提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yhrun-提交"}},[s._v("#")]),s._v(" yhrun 提交")]),s._v(" "),a("p",[s._v("在命令行终端直接执行yhrun命令进行作业提交计算：")]),s._v(" "),a("p",[s._v("天河系统的相应命令是：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhrun -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" -p debug executable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[a("strong",[s._v("疑问：")]),a("code",[s._v("-N")]),s._v("与"),a("code",[s._v("-n")]),s._v("两个参数是什么关系？"),a("br"),s._v(" "),a("strong",[s._v("解答：")]),a("code",[s._v("-N")]),s._v("是总节点数，"),a("code",[s._v("-n")]),s._v("是总核数。以TH-1A集群为例，一个节点有12个核。"),a("br"),s._v("\n当 "),a("code",[s._v("N*12 >= n")]),s._v("时，任务可以成功运行，并且占用了节点的全部核数，推荐使用；"),a("br"),s._v("\n当 "),a("code",[s._v("N*12 < n")]),s._v(" 时，由于无法满足这种节点数和核数的组合，会提示报错如下："),a("code",[s._v("yhbatch: error: Batch job submission failed: Requested node configuration is not available")])])]),s._v(" "),a("p",[s._v("参数说明如下：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("关键词")]),s._v(" "),a("th",[s._v("含义")]),s._v(" "),a("th",[s._v("备注")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("yhrun")]),s._v(" "),a("td",[s._v("并行执行程序的命令")]),s._v(" "),a("td",[s._v("类似于通用的"),a("code",[s._v("mpirun")]),s._v("命令")])]),s._v(" "),a("tr",[a("td",[s._v("-N")]),s._v(" "),a("td",[s._v("总节点数")]),s._v(" "),a("td",[s._v("-N 2 表示用2个计算节点")])]),s._v(" "),a("tr",[a("td",[s._v("-n")]),s._v(" "),a("td",[s._v("总核数")]),s._v(" "),a("td",[s._v("-n 24 表示一共用24个cpu核心，注意是总数，而不是每个节点的核数")])]),s._v(" "),a("tr",[a("td",[s._v("-p")]),s._v(" "),a("td",[s._v("计算分区")]),s._v(" "),a("td",[s._v("-p debug 表示用debug计算分区，可以用"),a("code",[s._v("yhi")]),s._v("命令查询可用分区")])]),s._v(" "),a("tr",[a("td",[s._v("executable")]),s._v(" "),a("td",[s._v("可执行程序名称")]),s._v(" "),a("td",[s._v("就是你要运行的程序的名字")])]),s._v(" "),a("tr",[a("td",[s._v("[args...]")]),s._v(" "),a("td",[s._v("执行参数")]),s._v(" "),a("td",[s._v("有的程序需要加参数，就写在后面")])])])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("yhrun")]),s._v("运行的程序，默认会将输出显示到屏幕上，而且当前终端断掉会导致任务退出，因此推荐用下面的"),a("code",[s._v("yhbatch")]),s._v("命令提交任务。")])]),s._v(" "),a("h4",{attrs:{id:"yhbatch提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yhbatch提交"}},[s._v("#")]),s._v(" yhbatch提交")]),s._v(" "),a("p",[s._v("这种方式是最为推荐的方式，先编写一个脚本（别担心，很简单），然后用提交命令提交这个脚本即可。")]),s._v(" "),a("p",[a("strong",[s._v("1）编写脚本")])]),s._v(" "),a("p",[s._v("使用文本编辑器（例如vim等），创建一个用于提交作业的脚本文件，例如名为"),a("strong",[s._v("sub.sh")]),s._v("的文件。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" sub.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后写入脚本内容")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\nyhrun -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" -p debug executable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("里面写的内容和"),a("code",[s._v("yhrun")]),s._v("提交方式的内容完全相同。")]),s._v(" "),a("p",[a("strong",[s._v("2）提交脚本")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhbatch -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" -p debug sub.sh\nSubmitted batch job "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454916")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("成功提交后，返回"),a("code",[s._v("Submitted batch job 1454916")]),s._v("，这一串数字就是该任务的"),a("code",[s._v("JOBID")]),s._v("。")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("疑问：")]),a("code",[s._v("yhbatch")]),s._v("和"),a("code",[s._v("yhrun")]),s._v("都指定了"),a("code",[s._v("-N -n")]),s._v("参数，哪个会起作用呢？"),a("br"),s._v("\n**解答：**当我们使用"),a("code",[s._v("yhbatch")]),s._v("提交一个任务时，首先会向作业管理系统申请指定分区指定节点数的计算资源（当核数与节点数不匹配时会报错，"),a("code",[s._v("yhrun")]),s._v("的部分已经解释过）"),a("br"),s._v("当获得了计算资源后，任务脚本会在计算节点执行。"),a("br"),s._v("\n当"),a("code",[s._v("yhrun运行需要的计算资源")]),s._v(" "),a("code",[s._v("<=")]),s._v(" "),a("code",[s._v("yhbatch申请的计算资源")]),s._v("时，程序可以正常运行；"),a("br"),s._v("\n当"),a("code",[s._v("yhrun运行需要的计算资源")]),s._v(" "),a("code",[s._v(">")]),s._v(" "),a("code",[s._v("yhbatch申请的计算资源")]),s._v("时，程序就会报错退出，在"),a("code",[s._v("slurm-jobid.out")]),s._v("文件中显示类似报错;"),a("br")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yhrun: error: Only allocated "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" nodes asked "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("参数说明如下：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("关键词")]),s._v(" "),a("th",[s._v("含义")]),s._v(" "),a("th",[s._v("备注")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("yhbatch")]),s._v(" "),a("td",[s._v("提交批处理脚本的命令")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("-N")]),s._v(" "),a("td",[s._v("总节点数")]),s._v(" "),a("td",[s._v("-N 2 表示用2个计算节点")])]),s._v(" "),a("tr",[a("td",[s._v("-n")]),s._v(" "),a("td",[s._v("总核数")]),s._v(" "),a("td",[s._v("-n 24 表示一共用24个cpu核心")])]),s._v(" "),a("tr",[a("td",[s._v("-p")]),s._v(" "),a("td",[s._v("计算分区")]),s._v(" "),a("td",[s._v("-p debug 表示用debug计算分区")])]),s._v(" "),a("tr",[a("td",[s._v("sub.sh")]),s._v(" "),a("td",[s._v("提交脚本名")]),s._v(" "),a("td",[s._v("可以依据任务不同编写其他名称的脚本文件")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("优势：使用这种方式提交的任务，会自动生成一个名为"),a("code",[s._v("slurm-jobid.out")]),s._v("的文件，其中"),a("code",[s._v("jobid")]),s._v("是slurm分配给这个任务的具体编号数字。里面会有除了程序特殊指定，或用户重定向以外的所有作业的标准输出和错误信息。当计算任务出现错误的时候，我们也是第一时间查看该文件，寻找原因。")])]),s._v(" "),a("h3",{attrs:{id:"查看任务状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看任务状态"}},[s._v("#")]),s._v(" 查看任务状态")]),s._v(" "),a("p",[s._v("如果我们想查看一下当前用户的作业状态，可以使用如下命令：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhq\nJOBID    PARTITION  NAME     "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("       ST  TIME      NODES NODELIST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REASON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454916")]),s._v("  debug      sub.sh   zhenggang  R   00:05:00  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("参数说明如下：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("关键词")]),s._v(" "),a("th",[s._v("含义")]),s._v(" "),a("th",[s._v("备注")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("JOBID")]),s._v(" "),a("td",[s._v("任务编号")]),s._v(" "),a("td",[s._v("唯一编号，方便追溯")])]),s._v(" "),a("tr",[a("td",[s._v("PARTITION")]),s._v(" "),a("td",[s._v("计算分区名")]),s._v(" "),a("td",[s._v("可用"),a("code",[s._v("yhi")]),s._v("查询")])]),s._v(" "),a("tr",[a("td",[s._v("NAME")]),s._v(" "),a("td",[s._v("任务名")]),s._v(" "),a("td",[s._v("默认以提交脚本的名称当作任务名")])]),s._v(" "),a("tr",[a("td",[s._v("USER")]),s._v(" "),a("td",[s._v("用户名")]),s._v(" "),a("td",[s._v("提交该任务的用户名")])]),s._v(" "),a("tr",[a("td",[s._v("ST")]),s._v(" "),a("td",[s._v("任务状态")]),s._v(" "),a("td",[s._v("PD排队"),a("br"),s._v("R运行"),a("br"),s._v("S挂起"),a("br"),s._v("CG正在退出")])]),s._v(" "),a("tr",[a("td",[s._v("TIME")]),s._v(" "),a("td",[s._v("任务运行时间")]),s._v(" "),a("td",[s._v("例子中为5分钟")])]),s._v(" "),a("tr",[a("td",[s._v("NODES")]),s._v(" "),a("td",[s._v("任务作占节点数")]),s._v(" "),a("td",[s._v("例子中为1个")])]),s._v(" "),a("tr",[a("td",[s._v("NODELIST(REASON)")]),s._v(" "),a("td",[s._v("节点列表（排队原因）")]),s._v(" "),a("td",[s._v("如果是排队状态的任务，则会给出排队原因")])])])]),s._v(" "),a("p",[s._v("备注常见排队原因：")]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("AssociationResourceLimit：关联的资源限制已满 --- 账户有使用节点数限制，已经用满了")]),s._v(" "),a("li",[s._v("Resources：当前可用资源不能满足作业需求 --- 系统的可用节点资源不足")]),s._v(" "),a("li",[s._v("Dependency：作业的依赖关系未满足 --- 作业之间有依赖关系，依赖的作业没完成")]),s._v(" "),a("li",[s._v("PartitionDown：作业所在的分区处于 down 状态 --- 分区down，所以节点不可用")])])]),s._v(" "),a("h3",{attrs:{id:"任务完成-取消作业"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#任务完成-取消作业"}},[s._v("#")]),s._v(" 任务完成/取消作业")]),s._v(" "),a("p",[s._v("如果提交作业后，如果正常结束，那么在"),a("code",[s._v("slurm-jobid.out")]),s._v("文件中并不会有任务的报错信息。")]),s._v(" "),a("p",[s._v("如果任务正在运行，发现需要将它取消，可以这样子：")]),s._v(" "),a("p",[s._v("1）确定任务编号")]),s._v(" "),a("p",[s._v("我们用"),a("code",[s._v("yhq")]),s._v("命令查看任务编号，比如为")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhq\nJOBID    PARTITION  NAME     "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("       ST  TIME      NODES NODELIST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REASON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454916")]),s._v("  debug      sub.sh   zhenggang  R   00:15:00  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("2）取消任务")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhcancel "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454916")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_2-slurm使用中级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-slurm使用中级"}},[s._v("#")]),s._v(" 2. slurm使用中级")]),s._v(" "),a("p",[s._v("用户常用的功能，其实大部分是"),a("code",[s._v("yhrun/yhbatch")]),s._v("的其他参数，举例如下：")]),s._v(" "),a("h3",{attrs:{id:"设置线程数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置线程数"}},[s._v("#")]),s._v(" 设置线程数")]),s._v(" "),a("p",[s._v("默认情况下，一个MPI进程开启一个线程，当程序为多线程程序的时候，可以手动设置线程数：")]),s._v(" "),a("p",[s._v("方法一：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OMP_NUM_THREADS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("通过环境变量参数设置线程数为4。")]),s._v(" "),a("p",[s._v("方法二：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhrun -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" -p debug executable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("通过"),a("code",[s._v("yhrun -c 4")]),s._v("设置线程数为4。")]),s._v(" "),a("h3",{attrs:{id:"设置工作目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置工作目录"}},[s._v("#")]),s._v(" 设置工作目录")]),s._v(" "),a("p",[s._v("默认情况下，执行"),a("code",[s._v("yhbatch")]),s._v("命令的目录就是任务的默认目录。")]),s._v(" "),a("p",[s._v("如果希望修改任务的默认目录，可以使用"),a("code",[s._v("-D")]),s._v("参数。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhbatch -D /path/to/new/directory -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n24 -p debug sub.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("/path/to/new/directory 表示一个新的目录")])]),s._v(" "),a("h3",{attrs:{id:"指定节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指定节点"}},[s._v("#")]),s._v(" 指定节点")]),s._v(" "),a("p",[s._v("我们可以用"),a("code",[s._v("-w")]),s._v("参数来指定任务使用哪些节点，可以用"),a("code",[s._v("-x")]),s._v("参数指定任务不使用哪些节点。")]),s._v(" "),a("p",[s._v("通常使用"),a("code",[s._v("-x")]),s._v("的场景为，当任务在某个节点报错退出后，如果怀疑该节点有问题，可以先用"),a("code",[s._v("-x")]),s._v("参数过滤掉该节点，重新提交任务。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhbatch -w cn10 -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n24 -p debug sub.sh\n$ yhbatch -x cn11 -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n24 -p debug sub.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"指定任务名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指定任务名"}},[s._v("#")]),s._v(" 指定任务名")]),s._v(" "),a("p",[s._v("当用户需要提交非常多的相似任务时，通常只会将提交脚本中的参数进行修改，但这样子提交的任务的任务名都相同，不好区分。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("JOBID    PARTITION  NAME     "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("       ST  TIME      NODES NODELIST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REASON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454916")]),s._v("  debug      sub.sh   zhenggang  R   00:15:00  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454917")]),s._v("  debug      sub.sh   zhenggang  R   00:15:00  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454918")]),s._v("  debug      sub.sh   zhenggang  R   00:15:00  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("-10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("我们可以用"),a("code",[s._v("-J")]),s._v("参数为每一个任务指定任务名，例如：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhbatch -J job1 -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n24 -p debug sub.sh\nSubmitted batch job "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454920")]),s._v("\n$ yhbatch -J job2 -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n24 -p debug sub.sh\nSubmitted batch job "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454921")]),s._v("\n$ yhbatch -J job3 -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n24 -p debug sub.sh\nSubmitted batch job "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454922")]),s._v("\n$ yhq\nJOBID    PARTITION  NAME     "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("       ST  TIME      NODES NODELIST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REASON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454920")]),s._v("  debug      job1     zhenggang  R   00:00:05  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("-16"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454921")]),s._v("  debug      job2     zhenggang  R   00:00:05  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("-18"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454922")]),s._v("  debug      job3     zhenggang  R   00:00:05  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("-20"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"任务运行时常"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#任务运行时常"}},[s._v("#")]),s._v(" 任务运行时常")]),s._v(" "),a("p",[s._v("默认情况下，任务会一直运行直到任务结束；在超算集群上，通常的计算分区都有设置最大运行时常，当超出时常后任务会自动退出，"),a("code",[s._v("slurm-jobid.out")]),s._v("文件报错类似："),a("code",[s._v("Error: DUE TO TIME LIMIT")])]),s._v(" "),a("p",[s._v("用户也可以用"),a("code",[s._v("-t")]),s._v("参数设置该任务的最大运行时常，时间单位为分钟，如设置为10分钟（即为"),a("code",[s._v("-t 10")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-batch line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-batch"}},[a("code",[s._v("$ yhbatch -t 10 -N 2 -n 24 -p debug sub.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3-slurm使用高级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-slurm使用高级"}},[s._v("#")]),s._v(" 3. slurm使用高级")]),s._v(" "),a("h3",{attrs:{id:"yhalloc方式使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yhalloc方式使用"}},[s._v("#")]),s._v(" yhalloc方式使用")]),s._v(" "),a("p",[s._v("除了"),a("code",[s._v("yhrun")]),s._v("和"),a("code",[s._v("yhbatch")]),s._v("，还有一个命令叫做"),a("code",[s._v("yhalloc")]),s._v("，适用于调试程序。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhballoc -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" -pdebug\nyhalloc: Granted job allocation "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1455031")]),s._v("\n\n$ yhq\n  JOBID PARTITION     NAME     "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("  ST       TIME  NODES NODELIST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REASON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1455031")]),s._v("    debug      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" zhenggang  R       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":44      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v("-32"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("我们接下来可以：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yhrun -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n24 -pdebug executable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("任务会在刚刚分配的cn[31-32]节点运行。")]),s._v(" "),a("p",[s._v("我们也可以用"),a("code",[s._v("ssh")]),s._v("命令切换到计算节点，进行各种操作。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" cn32\nLast login: Tue Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" 08:58:40 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" from ln0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("注意：用yhalloc申请的节点会在当前终端退出时释放掉，因此仅适用于高阶玩家调试用。")])]),s._v(" "),a("h3",{attrs:{id:"设置任务依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置任务依赖"}},[s._v("#")]),s._v(" 设置任务依赖")]),s._v(" "),a("p",[s._v("有时候任务1与任务2有点关系，我们希望等任务1结束后再运行任务2。")]),s._v(" "),a("p",[s._v("如果将任务1和任务2都提交了，它们之间没人关系，会再获得计算资源后都运行，这不是我们想要的。")]),s._v(" "),a("p",[s._v("因此，我们可以正常提交任务1，然后在提交任务2的时候，使用"),a("code",[s._v("-d jobid")]),s._v("参数设置依赖关系，让任务2等待任务1结束后再运行，即便有计算资源也等着。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yhbatch -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" -p debug sub1.sh\nSubmitted batch job "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454946")]),s._v("\n$ yhbatch -d "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454946")]),s._v(" -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" -p debug sub2.sh\nSubmitted batch job "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454947")]),s._v("\n$ yhq\n  JOBID PARTITION     NAME     "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" ST       TIME  NODES NODELIST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REASON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454947")]),s._v("    debug   sub2.sh zhenggang PD       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Dependency"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1454946")]),s._v("    debug   sub1.sh zhenggang  R       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":37      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" cn46\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("我们可以看到先提交的任务"),a("code",[s._v("1454946")]),s._v("已经在"),a("code",[s._v("R")]),s._v("，后提交的任务"),a("code",[s._v("1454947")]),s._v("在"),a("code",[s._v("PD")]),s._v("，原因是"),a("code",[s._v("Dependency")]),s._v("，这意味着它将等待"),a("code",[s._v("1454946")]),s._v("任务结束后才开始运行。")]),s._v(" "),a("h2",{attrs:{id:"附录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[s._v("#")]),s._v(" 附录")]),s._v(" "),a("h3",{attrs:{id:"slurm内置环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#slurm内置环境变量"}},[s._v("#")]),s._v(" slurm内置环境变量")]),s._v(" "),a("p",[s._v("slurm有很多内置的环境变量，可以在提交脚本中使用，来显示各类信息：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("内置变量")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("SLURM_NODELIST")]),s._v(" "),a("td",[s._v("分配的节点列表")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_NNODES")]),s._v(" "),a("td",[s._v("分配的任务数")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_NPROCS")]),s._v(" "),a("td",[s._v("要加载的任务数")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_JOBID")]),s._v(" "),a("td",[s._v("作业的 JobID")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_TASKS_PER_NODE")]),s._v(" "),a("td",[s._v("每节点要加载的任务数")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_JOB_ID")]),s._v(" "),a("td",[s._v("作业的 JobID")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_SUBMIT_DIR")]),s._v(" "),a("td",[s._v("提交作业时的工作目录")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_JOB_NODELIST")]),s._v(" "),a("td",[s._v("作业分配的节点列表")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_JOB_CPUS_PER_NODE")]),s._v(" "),a("td",[s._v("每个节点上分配给作业的 CPU 数")])]),s._v(" "),a("tr",[a("td",[s._v("SLURM_JOB_NUM_NODES")]),s._v(" "),a("td",[s._v("作业分配的节点数")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);